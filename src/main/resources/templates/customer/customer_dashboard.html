<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Customer Dashboard</title>
</head>
<body>

<div th:replace="fragments/navbar :: navbar"></div>

<h2>Customer Dashboard</h2>

<p>
    Logged in as:
    <strong th:text="${session.loggedInUser.username}"></strong>
</p>

<hr>

<h3>Seller Application</h3>

<p>
    Current Status:
    <strong th:text="${session.loggedInUser.sellerApplicationStatus}"></strong>
</p>

<!-- When status = NONE or REJECTED -->
<form th:action="@{/customer/apply-seller}" method="post"
      th:if="${session.loggedInUser.sellerApplicationStatus == 'NONE'
           or session.loggedInUser.sellerApplicationStatus == 'REJECTED'}">
    <button type="submit">Apply to Become Seller</button>
</form>

<!-- When status = PENDING -->
<div th:if="${session.loggedInUser.sellerApplicationStatus == 'PENDING'}">
    <p>Your application is being reviewed.</p>
</div>

<!-- When status = APPROVED -->
<form th:action="@{/customer/enter-seller}" method="post"
      th:if="${session.loggedInUser.sellerApplicationStatus == 'APPROVED'}">
    <button type="submit">Enter Seller Dashboard</button>
</form>

<hr>

<p>You are currently in Customer mode.</p>

</body>
</html>
